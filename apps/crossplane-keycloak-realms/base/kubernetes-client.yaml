apiVersion: openidclient.keycloak.crossplane.io/v1alpha1
kind: Client
metadata:
  name: headlamp
spec:
  deletionPolicy: Delete
  forProvider:
    accessType: confidential
    baseUrl: /
    clientId: headlamp
    clientSecretSecretRef:
      key: OIDC_CLIENT_SECRET
      name: headlamp-oidc-client
      namespace: headlamp
    directAccessGrantsEnabled: true
    name: Headlamp
    # pkceCodeChallengeMethod: S256
    realmIdRef:
      name: iaas
    rootUrl: https://headlamp.apps.iaas.wcooke.me
    standardFlowEnabled: true
    validRedirectUris:
    - /*
    - /oidc-callback
  providerConfigRef:
    name: keycloak-provider-config
# ---
# apiVersion: openidclient.keycloak.crossplane.io/v1alpha1
# kind: ClientDefaultScopes
# metadata:
#   name: headlamp
# spec:
#   deletionPolicy: Delete
#   forProvider:
#     clientIdRef:
#       name: headlamp
#     defaultScopes:
#     # Default Scopes
#     - acr
#     - basic
#     - email
#     - profile
#     - roles
#     - web-origins
#     # Custom Scopes
#     - group
#     realmIdRef:
#       name: iaas
#   providerConfigRef:
#     name: keycloak-provider-config
# ---
# apiVersion: openidclient.keycloak.crossplane.io/v1alpha1
# kind: ClientOptionalScopes
# metadata:
#   name: headlamp
# spec:
#   deletionPolicy: Delete
#   forProvider:
#     clientIdRef:
#       name: headlamp
#     optionalScopes: []
#     realmIdRef:
#       name: iaas
#   providerConfigRef:
#     name: keycloak-provider-config
---
apiVersion: group.keycloak.crossplane.io/v1alpha1
kind: Group
metadata:
  name: kubernetes-admins
spec:
  deletionPolicy: Delete
  forProvider:
    name: kubernetes-admins
    realmIdRef:
      name: iaas
  providerConfigRef:
    name: keycloak-provider-config
