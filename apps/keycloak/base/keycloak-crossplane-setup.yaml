apiVersion: realm.keycloak.crossplane.io/v1alpha1
kind: Realm
metadata:
  name: iaas
spec:
  deletionPolicy: Delete
  forProvider:
    displayName: IaaS Realm
    duplicateEmailsAllowed: false
    enabled: true
    passwordPolicy: length(8) and digits(1) and upperCase(1) and lowerCase(1) and specialChars(1) and forceExpiredPasswordChange(365) and notUsername(undefined)
    realm: iaas
    registrationEmailAsUsername: false
    rememberMe: true
    resetPasswordAllowed: false
    sslRequired: all
    verifyEmail: false
  providerConfigRef:
    name: keycloak-provider-config
---
apiVersion: user.keycloak.crossplane.io/v1alpha1
kind: User
metadata:
  name: william
spec:
  forProvider:
    email: cookewe@gmail.com
    emailVerified: true
    enabled: true
    firstName: William
    initialPassword:
    - temporary: false
      valueSecretRef:
        key: password
        name: william-realm-credentials
        namespace: keycloak
    lastName: Cooke
    realmIdRef:
      name: iaas
    username: william
  providerConfigRef:
    name: keycloak-provider-config
